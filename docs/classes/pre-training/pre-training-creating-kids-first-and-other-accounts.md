## Kids First, INCLUDE  and Cavatica Account Registrations

Today in this pre-training workshop, we will spend some time to get everyone registered for a few accounts.  By now, we have a GitHub account, an ORCID and hopefully an ERA-Commons ID.  This last one will allow us to take advantage of the NIH Researcher Authentication Service.   In this portion of the class, we will be registering with Kids First as well as Cavatica and connecting these two accounts together.

## Beginning with Kids First Account

<p>
<br/><br/>
<img src="/../../img/kfdrc-logo-sm.png"  width="500" >
<br/><br/>
</p>

Some of the data within the Kids First Data Resource Center Hub is registered tier access.  What that means is that you simply need to register and the data are available to you.

## Creating a Kids First DRC Account

Please create your account within the Kids First Data Resource Portal.

Navigate to [Kids First DRC](https://kidsfirstdrc.org/)

First screen you will see is:

<img src="/../../img/KidsFirstDRCPortalCreateAnAccount-1.png" width=500>

From here you can navigate to either [CREATE YOUR ACCOUNT](https://portal.kidsfirstdrc.org/join) or [PORTAL LOGIN](https://portal.kidsfirstdrc.org/login)

Let's click [CREATE YOUR ACCOUNT](https://portal.kidsfirstdrc.org/join)

<img src="/../../img/KidsFIrstCreateYourAccount.png" width=500>

## Select a Connection Service

A Connection service is used to manage your identity.  

Let's go ahead and [Select a connection service](https://kf-keycloak.kidsfirstdrc.org/auth/realms/kidsfirstdrc/protocol/openid-connect/auth?client_id=portal-ui&redirect_uri=https%3A%2F%2Fportal.kidsfirstdrc.org%2F%2Fdashboard&state=110c9ab4-bcce-40d2-8053-8b4f9a1cabc6&response_mode=fragment&response_type=code&scope=openid&nonce=008d154d-280d-4e44-89c9-ecf3cca6231a).

We have three choices:

<img src="/../../img/KidsFirstLoginChoices-3.png" width=500>

We have today created our ORCID and perhaps our ERACommons ID and we have the option of selecting Google.

Each have their advantages and disadvantages.   I'd like to steer you towards the NIH Researcher Authentication Service.  The reason is that this is the service that will know what data sets you are authorized to access.

## Protecting Human Data - Introducing GA4GH

Pediatric data, human data are sensitve data.   To protect the use of the data, we have data access committees.   Data Access Committees is a world-wide phenomenon.  In this genomic era, where medicine and research involves many types of omics data, protecting these data means that one registers their intent and that intent is then documented.   While today this is an often manual process, we do imagine a future where there is more automation involved, so the process becomes a bit more smoothed out.   In the meantime, the NIH Researcher Authentication Service, is one step closer to the ideal.   First there is the management of your identity, next is the management of what datasets you have access.   The [Global Alliance for Genomics & Health (GA4GH)](https://www.ga4gh.org/) is a policy-framing and technical standards-setting organization, seeking to enable responsible genomic data sharing within a human rights framework.   I encourage you to stay abreast with this organization and the emerging policies they are promoting. 

## Logging in with the NIH Researcher Authentication Service

Let's choose the *NIH Researcher Authentication Service*

<img src="/../../img/KidsFirstNIHResearcherAuthenticationService.png" width=500>


## Join Kids First Data Resource Portal

You are now asked to enter basic Information after you have connected with Kids First.

<img src="/../../img/KidsFirstRegistrationScreenNewUser.png" width=500>

Enter the information that describes you best.  The example on the website is a fictious Researcher.

You are asked to agree to adhere to the [NIH Genomic Data User Code of Conduct](https://osp.od.nih.gov/wp-content/uploads/Genomic_Data_User_Code_of_Conduct.pdf).   Some of those terms are recapitulated on the page.

<img src="/../../img/KidsFirstTermsAndConditions.png" width=500>

## Kids First Portal Dashboard

Once these terms are accepted - you will be presented with a Dashboard

<img src="/../../img/KidsFirstNewUserDashboard.png" width=500>

And we are now ready to connect to Cavatica.

## Kids First Connect to Cavatica

From the Kids First new user dashboard, we see how to connect to Cavatica, we see there are three steps.

<img src="/../../img/KidsFirstHowtoConnectToCAVATICAStep1.png" width=500>

## Creating an INCLUDE Data Hub Account


<p>
<br/><br/>
<img src="/../../img/INCLUDEDataCoordinatingCenter.png"  width="500" >
<br/><br/>
</p>

Some of the data within the INCLUDE Data Hub is registered tier access.  What that means is that you simply need to register and the data are available to you.


Navigate to [INCLUDE Data Hub](https://portal.includedcc.org/)

First screen you will see is:

<img src="/../../img/INCLUDEDataHubCreateAnAccount-1.png" width=500>

From here you can navigate to either [Login](https://keycloak.includedcc.org/auth/realms/includedcc/protocol/openid-connect/auth?client_id=portal-ui&redirect_uri=https%3A%2F%2Fportal.includedcc.org%2F%2Fdashboard&state=e2e1356f-bc2c-471f-886b-0032cc120e48&response_mode=fragment&response_type=code&scope=openid&nonce=ee0c2556-cc4b-4bf8-8c00-adee04a97c85) or [Sign up]()

Let's click [Sign Up](https://keycloak.includedcc.org/auth/realms/includedcc/protocol/openid-connect/auth?client_id=portal-ui&redirect_uri=https%3A%2F%2Fportal.includedcc.org%2F%2Fdashboard&state=11ed7eae-4875-4ca5-971a-74bef687653a&response_mode=fragment&response_type=code&scope=openid&nonce=ba284859-58ef-4b6d-872c-4411c6b7dd18)

<img src="/../../img/INCLUDEDataHubCreateAnAccount-2.png" width=500>

## Sign up choices

At this time, you can sign up with either Google or ORCID.

Either works:

Let's choose ORCID, when it becomes available, you will also be able to sign in with your ERACommons ID.

<img src="/../../img/INCLUDEDataHubCreateAnAccount-3.png" width=500>

We see now the Dashboard and we are now ready to connect to Cavatica.

<img src="/../../img/INCLUDEDataHubCreateAnAccount-4.png" width=500>

## INCLUDE Connect with Cavatica

From the INCLUDE dashboard, we see how to connect to Cavatica

Using the *`Connect`* button on the left, we login to with the Researcher Authorization Service.

<img src="/../../img/INCLUDEDataHubCreateAnAccount-5.png" width=500>

The data are at this time mediated by a data service, Gen3
<img src="/../../img/INCLUDEDataHubCreateAnAccount-6.png" width=500>

Now authenticated, the INCLUDE project to see what studies you are authorized to see.

<img src="/../../img/INCLUDEDataHubCreateAnAccount-7.png" width=500>

The portal then will allow you to browse these files and push them onto Cavatica.

There are other courses that teach you how to do these steps.  We are focused on building the literacy here of how to use and build your own tools with Cavatica in as much as possible a platform agnostic manner.

Next, we connect using the *`Connect`* button on the right to Cavatica.

<img src="/../../img/INCLUDEDataHubCreateAnAccount-8.png" width=500>

And we are now ready to go to Cavatica

<img src="/../../img/INCLUDEDataHubCreateAnAccount-9.png" width=500>

See further documentation:

[Cavatica Account Login Creation Documentation](https://docs.cavatica.org/docs/sign-up-for-cavatica)
[Kids First Getting Started](https://kidsfirstdrc.org/support/getting-started/)
[INCLUDE Help](https://help.includedcc.org/)

## Recap of what we have done today

- Registered with Kids First Data Resource Center
- Registered with INCLUDE
- Registered with Cavatica
- Connected the Kids First DRC with the Cavatica Platform and Researcher Authorization Service
- Connected the INCLUDE Data Hub with Cavatica Platform and Researcher Authorization Service
